<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì—ì´ì „íŠ¸ ê´€ë¦¬ - ì˜ˆê²œ ê´€ë¦¬ì</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <style>
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .emergency-controls {
            background-color: #fee;
            border: 2px solid #f44;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .emergency-btn {
            background-color: #dc2626;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        .emergency-btn:hover {
            background-color: #b91c1c;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
        }

        .stat-card h3 {
            color: #2563eb;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .agent-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .agent-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .agent-card.active {
            border-color: #10b981;
        }

        .agent-card.inactive {
            border-color: #ef4444;
            opacity: 0.7;
        }

        .agent-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .agent-name {
            font-size: 18px;
            font-weight: bold;
        }

        .agent-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ef4444;
        }

        .status-indicator.active {
            background-color: #10b981;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background-color: #ccc;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .toggle-switch.active {
            background-color: #10b981;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }

        .toggle-switch.active::after {
            transform: translateX(26px);
        }

        .agent-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .agent-stat {
            text-align: center;
            padding: 10px;
            background-color: #f3f4f6;
            border-radius: 4px;
        }

        .agent-stat-value {
            font-size: 20px;
            font-weight: bold;
            color: #2563eb;
        }

        .agent-stat-label {
            font-size: 12px;
            color: #6b7280;
            margin-top: 2px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 8px 16px;
            border: 1px solid #2563eb;
            background: white;
            color: #2563eb;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: #2563eb;
            color: white;
        }

        .control-btn:disabled {
            background: #e5e7eb;
            color: #9ca3af;
            border-color: #e5e7eb;
            cursor: not-allowed;
        }

        .control-btn:disabled:hover {
            background: #e5e7eb;
            color: #9ca3af;
        }

        .activity-log {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e5e7eb;
        }

        .activity-log h3 {
            margin-bottom: 15px;
            color: #2563eb;
        }

        .log-entry {
            padding: 10px;
            border-bottom: 1px solid #e5e7eb;
            font-size: 14px;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-time {
            color: #6b7280;
            font-size: 12px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #6b7280;
        }

        .header-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 0;
            margin-bottom: 30px;
            border-radius: 8px;
            text-align: center;
        }

        .nav-links {
            margin-top: 20px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .nav-links a:hover {
            background-color: rgba(255,255,255,0.2);
        }
    </style>
</head>
<body class="bg-white text-gray-900 font-sans">

    <div id="app-container" class="min-h-screen flex flex-col">

        <!-- Header -->
        <header class="bg-white/90 backdrop-blur-sm sticky top-0 border-b border-gray-200" style="z-index: 50000; overflow: visible !important;">
            <nav class="container mx-auto px-4 lg:px-8 py-3 flex justify-between items-center">
                <a href="index.html" class="flex items-center space-x-2">
                    <img src="logo.png" alt="ì˜ˆê²œ ë¡œê³ " class="h-8 w-auto">
                    <span class="text-xl font-bold tracking-tight text-gray-900 hidden sm:block">ì˜ˆê²œ</span>
                </a>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-6 text-sm font-medium text-gray-600">
                    <a href="about.html" class="hover:text-gray-900 transition-colors">ì˜ˆê²œ ì†Œê°œ</a>
                    <a href="issues.html" class="hover:text-gray-900 transition-colors">ì „ì²´ ì´ìŠˆ</a>
                    <a href="minigames.html" class="hover:text-gray-900 transition-colors">ë¯¸ë‹ˆê²Œì„ë°©</a>
                    <a href="discussions.html" class="hover:text-gray-900 transition-colors">ë¶„ì„ë°©</a>
                    <a href="tier_guide.html" class="hover:text-gray-900 transition-colors">ì—…ì  ì•ˆë‚´</a>
                    <a href="mypage.html" class="hover:text-gray-900 transition-colors">ë‚´ ì •ë³´</a>
                    <a href="admin.html" class="hover:text-gray-900 transition-colors text-red-600">ê´€ë¦¬ì</a>
                </div>
                
                <!-- Mobile & User Actions Container -->
                <div class="flex items-center space-x-1 sm:space-x-2">
                    <!-- Search Button -->
                    <button id="header-search-btn" class="p-2.5 rounded-md hover:bg-gray-100 transition-colors touch-manipulation">
                        <i data-lucide="search" class="w-5 h-5 text-gray-600"></i>
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden p-2.5 rounded-md hover:bg-gray-100 transition-colors touch-manipulation">
                        <i data-lucide="menu" class="w-5 h-5 text-gray-600"></i>
                    </button>
                    
                    <!-- User Info & Wallet -->
                    <div id="header-user-section" class="hidden">
                        <!-- GAM ì”ì•¡ í‘œì‹œ -->
                        <div class="hidden sm:flex items-center bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1.5 rounded-full text-sm font-medium shadow-sm mr-2">
                            <i data-lucide="coins" class="w-4 h-4 mr-1"></i>
                            <span id="header-gam-balance">0</span>
                            <span class="ml-1 text-xs opacity-90">GAM</span>
                        </div>
                        
                        <!-- ì•Œë¦¼ ë²„íŠ¼ -->
                        <button id="header-notification-btn" class="relative p-2.5 rounded-md hover:bg-gray-100 transition-colors touch-manipulation mr-1">
                            <i data-lucide="bell" class="w-5 h-5 text-gray-600"></i>
                            <span id="notification-badge" class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium">0</span>
                        </button>
                        
                        <!-- ì‚¬ìš©ì ë©”ë‰´ -->
                        <div class="relative">
                            <button id="header-user-menu-btn" class="flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 transition-colors touch-manipulation">
                                <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                                    <span id="header-user-initial" class="text-white text-sm font-medium">U</span>
                                </div>
                                <span id="header-username" class="hidden sm:block text-sm font-medium text-gray-700 max-w-20 truncate">ì‚¬ìš©ì</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 text-gray-400 hidden sm:block"></i>
                            </button>
                            
                            <!-- ì‚¬ìš©ì ë“œë¡­ë‹¤ìš´ ë©”ë‰´ -->
                            <div id="header-user-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1" style="z-index: 50001;">
                                <div class="px-4 py-2 border-b border-gray-100">
                                    <p class="text-sm font-medium text-gray-900" id="dropdown-username">ì‚¬ìš©ì</p>
                                    <p class="text-xs text-gray-500" id="dropdown-user-email">user@example.com</p>
                                </div>
                                <a href="mypage.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">ë‚´ ì •ë³´</a>
                                <a href="tier_guide.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">ì—…ì  ì•ˆë‚´</a>
                                <button id="header-logout-btn" class="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50">ë¡œê·¸ì•„ì›ƒ</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ë¡œê·¸ì¸ ë²„íŠ¼ (ë¹„ë¡œê·¸ì¸ ì‹œ) -->
                    <div id="header-auth-section" class="flex items-center space-x-2">
                        <a href="login.html" class="text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors px-3 py-2">ë¡œê·¸ì¸</a>
                        <a href="login.html" class="bg-blue-600 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-blue-700 transition-colors">íšŒì›ê°€ì…</a>
                    </div>
                </div>
            </nav>
            
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm">
                <div class="container mx-auto px-4 py-3 space-y-2">
                    <a href="about.html" class="block py-2 text-sm font-medium text-gray-600 hover:text-gray-900">ì˜ˆê²œ ì†Œê°œ</a>
                    <a href="issues.html" class="block py-2 text-sm font-medium text-gray-600 hover:text-gray-900">ì „ì²´ ì´ìŠˆ</a>
                    <a href="minigames.html" class="block py-2 text-sm font-medium text-gray-600 hover:text-gray-900">ë¯¸ë‹ˆê²Œì„ë°©</a>
                    <a href="discussions.html" class="block py-2 text-sm font-medium text-gray-600 hover:text-gray-900">ë¶„ì„ë°©</a>
                    <a href="tier_guide.html" class="block py-2 text-sm font-medium text-gray-600 hover:text-gray-900">ì—…ì  ì•ˆë‚´</a>
                    <a href="mypage.html" class="block py-2 text-sm font-medium text-gray-600 hover:text-gray-900">ë‚´ ì •ë³´</a>
                    <a href="admin.html" class="block py-2 text-sm font-medium text-red-600 hover:text-red-700">ê´€ë¦¬ì</a>
                    
                    <!-- Mobile GAM Balance -->
                    <div id="mobile-gam-balance" class="hidden mt-3 pt-3 border-t border-gray-200">
                        <div class="flex items-center justify-center bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-4 py-2 rounded-lg">
                            <i data-lucide="coins" class="w-4 h-4 mr-2"></i>
                            <span id="mobile-header-gam-balance">0</span>
                            <span class="ml-1 text-sm opacity-90">GAM</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="header-section">
            <div class="dashboard-container">
                <h1>ğŸ¤– AI ì—ì´ì „íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
                <p>ì˜ˆê²œ ì»¤ë®¤ë‹ˆí‹° AI ì–´ì‹œìŠ¤í„´íŠ¸ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ</p>
                <div class="nav-links">
                    <a href="admin.html">â† ë©”ì¸ ê´€ë¦¬ì</a>
                    <a href="index.html">â† ë©”ì¸ í˜ì´ì§€</a>
                </div>
            </div>
        </div>

    <div class="dashboard-container">
        <div class="emergency-controls">
            <h3>âš ï¸ ê¸´ê¸‰ ì œì–´</h3>
            <p style="margin: 10px 0;">ëª¨ë“  AI ì—ì´ì „íŠ¸ë¥¼ ì¦‰ì‹œ ì¤‘ì§€í•©ë‹ˆë‹¤</p>
            <button class="emergency-btn" onclick="emergencyStop()">
                ğŸ›‘ ê¸´ê¸‰ ì •ì§€
            </button>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                <p>í™œì„± ì—ì´ì „íŠ¸: <span id="active-agents">-</span> / <span id="total-agents">-</span></p>
                <p>ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœ: <span id="scheduler-status">-</span></p>
                <p>ê°€ë™ ì‹œê°„: <span id="uptime">-</span></p>
            </div>
            <div class="stat-card">
                <h3>24ì‹œê°„ í™œë™ í†µê³„</h3>
                <p>ì´ ê²Œì‹œë¬¼: <span id="total-posts">-</span></p>
                <p>ì´ ëŒ“ê¸€: <span id="total-replies">-</span></p>
                <p>ì´ ë°˜ì‘: <span id="total-reactions">-</span></p>
            </div>
            <div class="stat-card">
                <h3>API ìƒíƒœ</h3>
                <p>OpenAI API: <span id="api-status">í™•ì¸ì¤‘...</span></p>
                <p>ì½˜í…ì¸  í•„í„°: <span id="filter-status">-</span></p>
                <p>ê¸´ê¸‰ ì •ì§€: <span id="emergency-status">-</span></p>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn" onclick="activateAll()">ëª¨ë‘ í™œì„±í™”</button>
            <button class="control-btn" onclick="deactivateAll()">ëª¨ë‘ ë¹„í™œì„±í™”</button>
            <button class="control-btn" onclick="refreshStats()">í†µê³„ ìƒˆë¡œê³ ì¹¨</button>
            <button class="control-btn" onclick="clearLogs()">ë¡œê·¸ ì§€ìš°ê¸°</button>
        </div>

        <h2 style="margin-bottom: 20px;">AI ì—ì´ì „íŠ¸ ê´€ë¦¬</h2>
        <div class="agent-grid" id="agents-container">
            <div class="loading">AI ì—ì´ì „íŠ¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
        </div>

        <div class="activity-log">
            <h3>ğŸ“‹ ì‹¤ì‹œê°„ í™œë™ ë¡œê·¸</h3>
            <div id="activity-log-content">
                <div class="loading">ë¡œê·¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </div>

        <div class="activity-log">
            <h3>ğŸ“„ ìƒì„±ëœ AI ì½˜í…ì¸ </h3>
            <div class="controls" style="margin-bottom: 15px;">
                <button class="control-btn" onclick="loadGeneratedContent()">ì½˜í…ì¸  ìƒˆë¡œê³ ì¹¨</button>
                <button class="control-btn" onclick="clearContentFilter()">ì „ì²´ ë³´ê¸°</button>
            </div>
            <div id="generated-content">
                <div class="loading">ìƒì„±ëœ ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = '/api/agents';
        let activityLogs = [];

        async function fetchJSON(url, options = {}) {
            try {
                const response = await fetch(url, {
                    ...options,
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${getAdminToken()}`,
                        ...options.headers
                    }
                });
                
                if (!response.ok) {
                    if (response.status === 401) {
                        requestAdminToken();
                        throw new Error('ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤');
                    }
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error('API Error:', error);
                throw error;
            }
        }

        function getAdminToken() {
            // ê¸°ë³¸ í† í°ì„ ë¨¼ì € ì‹œë„, ì—†ìœ¼ë©´ ì‚¬ìš©ìì—ê²Œ ìš”ì²­
            let token = localStorage.getItem('aiAgentAdminToken') || sessionStorage.getItem('aiAgentAdminToken');
            if (!token) {
                token = 'yegam_admin_2024_secure_key_for_ai_agents'; // ê¸°ë³¸ í† í°
                localStorage.setItem('aiAgentAdminToken', token);
            }
            return token;
        }

        function requestAdminToken() {
            const token = prompt('AI ì—ì´ì „íŠ¸ ê´€ë¦¬ì í† í°ì„ ì…ë ¥í•˜ì„¸ìš”:\n\nê¸°ë³¸ê°’: yegam_admin_2024_secure_key_for_ai_agents');
            if (token) {
                localStorage.setItem('aiAgentAdminToken', token);
            } else {
                // ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ í† í° ì‚¬ìš©
                localStorage.setItem('aiAgentAdminToken', 'yegam_admin_2024_secure_key_for_ai_agents');
            }
        }

        async function loadAgents() {
            try {
                const agents = await fetchJSON(`${API_BASE}/status`);
                renderAgents(agents);
            } catch (error) {
                if (error.message.includes('ì¸ì¦')) {
                    document.getElementById('agents-container').innerHTML = 
                        '<div class="loading">ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”.</div>';
                } else {
                    document.getElementById('agents-container').innerHTML = 
                        '<div class="loading">AI ì—ì´ì „íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</div>';
                }
            }
        }

        function renderAgents(agents) {
            const container = document.getElementById('agents-container');
            container.innerHTML = agents.map(agent => `
                <div class="agent-card ${agent.isActive ? 'active' : 'inactive'}" id="agent-${agent.agentId}">
                    <div class="agent-header">
                        <div class="agent-name">${agent.nickname}</div>
                        <div class="agent-status">
                            <div class="status-indicator ${agent.isActive ? 'active' : ''}"></div>
                            <div class="toggle-switch ${agent.isActive ? 'active' : ''}" 
                                 onclick="toggleAgent('${agent.agentId}', ${!agent.isActive})"></div>
                        </div>
                    </div>
                    <div class="agent-stats">
                        <div class="agent-stat">
                            <div class="agent-stat-value">${agent.stats24h.posts || 0}</div>
                            <div class="agent-stat-label">ê²Œì‹œë¬¼</div>
                        </div>
                        <div class="agent-stat">
                            <div class="agent-stat-value">${agent.stats24h.replies || 0}</div>
                            <div class="agent-stat-label">ëŒ“ê¸€</div>
                        </div>
                        <div class="agent-stat">
                            <div class="agent-stat-value">${agent.stats24h.reactions || 0}</div>
                            <div class="agent-stat-label">ë°˜ì‘</div>
                        </div>
                    </div>
                    <div style="margin-top: 10px; font-size: 12px; color: #6b7280;">
                        ë§ˆì§€ë§‰ í™œë™: ${agent.lastActivity ? new Date(agent.lastActivity).toLocaleString('ko-KR') : 'ì—†ìŒ'}
                    </div>
                    <div style="margin-top: 15px; display: flex; gap: 6px; flex-direction: column;">
                        <div style="display: flex; gap: 6px;">
                            <button class="control-btn" style="flex: 1; font-size: 12px; padding: 6px 8px;" 
                                    onclick="generateContent('${agent.agentId}')" 
                                    ${!agent.isActive ? 'disabled' : ''}>
                                ğŸ“ ì½˜í…ì¸  ìƒì„±
                            </button>
                            <button class="control-btn" style="flex: 1; font-size: 12px; padding: 6px 8px;" 
                                    onclick="viewAgentContent('${agent.agentId}')" 
                                    title="ì´ ì—ì´ì „íŠ¸ê°€ ìƒì„±í•œ ì½˜í…ì¸ ë§Œ ë³´ê¸°">
                                ğŸ‘ï¸ ì½˜í…ì¸  ë³´ê¸°
                            </button>
                        </div>
                        <button class="control-btn" style="font-size: 12px; padding: 6px 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;" 
                                onclick="postToDiscussions('${agent.agentId}')" 
                                ${!agent.isActive ? 'disabled' : ''}
                                title="AI ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ê³  ë¶„ì„ë°©ì— ë°”ë¡œ ê²Œì‹œ">
                            ğŸš€ ë¶„ì„ë°© ê²Œì‹œ
                        </button>
                        <button class="control-btn" style="font-size: 12px; padding: 6px 8px; background: linear-gradient(135deg, #ff9a56 0%, #ff6b6b 100%); color: white; border: none;" 
                                onclick="postToDiscussionsWithKeywords('${agent.agentId}')" 
                                ${!agent.isActive ? 'disabled' : ''}
                                title="í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì—¬ AI ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ê³  ë¶„ì„ë°©ì— ê²Œì‹œ">
                            ğŸ”¥ í‚¤ì›Œë“œ ê²Œì‹œ
                        </button>
                        <button class="control-btn" style="font-size: 12px; padding: 6px 8px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); color: white; border: none;" 
                                onclick="generateIssue('${agent.agentId}')" 
                                ${!agent.isActive ? 'disabled' : ''}
                                title="AIê°€ ìë™ìœ¼ë¡œ ì´ìŠˆë¥¼ ìƒì„±í•˜ì—¬ ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°ì—´ì— ì¶”ê°€">
                            ğŸ¯ ì´ìŠˆ ìƒì„±
                        </button>
                    </div>
                </div>
            `).join('');
            
            updateStats(agents);
        }

        async function toggleAgent(agentId, activate) {
            try {
                await fetchJSON(`${API_BASE}/${agentId}/status`, {
                    method: 'PUT',
                    body: JSON.stringify({ active: activate })
                });
                await loadAgents();
                addLog(`${agentId} ì—ì´ì „íŠ¸ê°€ ${activate ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”'}ë˜ì—ˆìŠµë‹ˆë‹¤`);
            } catch (error) {
                alert('ì—ì´ì „íŠ¸ ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨');
            }
        }

        async function emergencyStop() {
            if (!confirm('ì •ë§ë¡œ ëª¨ë“  AI ì—ì´ì „íŠ¸ë¥¼ ì¤‘ì§€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
            
            try {
                await fetchJSON(`${API_BASE}/emergency-stop`, { method: 'POST' });
                await loadAgents();
                await checkSystemStatus();
                addLog('ğŸ›‘ ê¸´ê¸‰ ì •ì§€ê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤');
            } catch (error) {
                alert('ê¸´ê¸‰ ì •ì§€ ì‹¤íŒ¨');
            }
        }

        async function activateAll() {
            try {
                await fetchJSON(`${API_BASE}/activate-all`, { method: 'POST' });
                await loadAgents();
                addLog('ëª¨ë“  AI ì—ì´ì „íŠ¸ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
            } catch (error) {
                alert('ì „ì²´ í™œì„±í™” ì‹¤íŒ¨');
            }
        }

        async function deactivateAll() {
            try {
                await fetchJSON(`${API_BASE}/deactivate-all`, { method: 'POST' });
                await loadAgents();
                addLog('ëª¨ë“  AI ì—ì´ì „íŠ¸ê°€ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
            } catch (error) {
                alert('ì „ì²´ ë¹„í™œì„±í™” ì‹¤íŒ¨');
            }
        }

        function updateStats(agents) {
            const activeAgents = agents.filter(a => a.isActive).length;
            document.getElementById('active-agents').textContent = activeAgents;
            document.getElementById('total-agents').textContent = agents.length;
            
            const totalStats = agents.reduce((acc, agent) => ({
                posts: acc.posts + (agent.stats24h.posts || 0),
                replies: acc.replies + (agent.stats24h.replies || 0),
                reactions: acc.reactions + (agent.stats24h.reactions || 0)
            }), { posts: 0, replies: 0, reactions: 0 });
            
            document.getElementById('total-posts').textContent = totalStats.posts;
            document.getElementById('total-replies').textContent = totalStats.replies;
            document.getElementById('total-reactions').textContent = totalStats.reactions;
        }

        function addLog(message) {
            const timestamp = new Date().toLocaleString('ko-KR');
            activityLogs.unshift({ message, timestamp });
            if (activityLogs.length > 50) activityLogs.pop();
            renderLogs();
        }

        function renderLogs() {
            const container = document.getElementById('activity-log-content');
            container.innerHTML = activityLogs.map(log => `
                <div class="log-entry">
                    <div class="log-time">${log.timestamp}</div>
                    <div>${log.message}</div>
                </div>
            `).join('');
        }

        function clearLogs() {
            activityLogs = [];
            renderLogs();
            addLog('ë¡œê·¸ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        async function refreshStats() {
            await loadAgents();
            await checkSystemStatus();
            addLog('í†µê³„ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        async function checkSystemStatus() {
            try {
                const status = await fetchJSON(`${API_BASE}/system/status`);
                document.getElementById('scheduler-status').textContent = status.scheduler.isRunning ? 'ì‹¤í–‰ì¤‘' : 'ì¤‘ì§€ë¨';
                document.getElementById('uptime').textContent = formatUptime(status.scheduler.uptime);
                document.getElementById('api-status').textContent = status.apiStatus ? 'ì •ìƒ' : 'ì˜¤ë¥˜';
                document.getElementById('filter-status').textContent = status.contentFilter ? 'í™œì„±' : 'ë¹„í™œì„±';
                document.getElementById('emergency-status').textContent = status.emergencyStop ? 'í™œì„±' : 'ì •ìƒ';
            } catch (error) {
                console.error('ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨:', error);
            }
        }

        function formatUptime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            return `${hours}ì‹œê°„ ${minutes}ë¶„`;
        }

        // ìƒì„±ëœ ì½˜í…ì¸  ê´€ë ¨ í•¨ìˆ˜ë“¤
        async function loadGeneratedContent() {
            try {
                const content = await fetchJSON(`${API_BASE}/content?limit=20`);
                renderGeneratedContent(content);
            } catch (error) {
                document.getElementById('generated-content').innerHTML = 
                    '<div class="loading">ìƒì„±ëœ ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</div>';
            }
        }

        function renderGeneratedContent(content) {
            const container = document.getElementById('generated-content');
            if (content.length === 0) {
                container.innerHTML = '<div class="loading">ì•„ì§ ìƒì„±ëœ ì½˜í…ì¸ ê°€ ì—†ìŠµë‹ˆë‹¤</div>';
                return;
            }

            container.innerHTML = content.map(item => `
                <div class="log-entry" style="border-left: 4px solid ${getContentTypeColor(item.activity_type)}; padding-left: 15px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <div style="font-weight: bold; color: #2563eb;">
                            ${item.nickname} 
                            <span style="background: ${getContentTypeColor(item.activity_type)}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px; margin-left: 8px;">
                                ${item.activity_type === 'post' ? 'ê²Œì‹œë¬¼' : 'ëŒ“ê¸€'}
                            </span>
                            ${item.is_filtered ? '<span style="background: #ef4444; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px; margin-left: 4px;">í•„í„°ë¨</span>' : ''}
                        </div>
                        <div class="log-time">${new Date(item.created_at).toLocaleString('ko-KR')}</div>
                    </div>
                    <div style="background: #f8f9fa; padding: 12px; border-radius: 6px; margin-bottom: 8px; white-space: pre-wrap;">
                        ${item.content}
                    </div>
                    <div style="font-size: 12px; color: #6b7280;">
                        ì—ì´ì „íŠ¸ ID: ${item.agent_id}
                        ${item.metadata ? `â€¢ ë©”íƒ€ë°ì´í„°: ${JSON.stringify(item.metadata)}` : ''}
                    </div>
                </div>
            `).join('');
        }

        function getContentTypeColor(type) {
            return type === 'post' ? '#10b981' : '#3b82f6';
        }

        function clearContentFilter() {
            loadGeneratedContent();
        }

        // ìˆ˜ë™ ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜
        async function generateContent(agentId) {
            const button = event.target;
            const originalText = button.innerHTML;
            
            try {
                // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                button.disabled = true;
                button.innerHTML = 'â³ ìƒì„± ì¤‘...';
                
                const response = await fetchJSON(`${API_BASE}/${agentId}/generate`, {
                    method: 'POST',
                    body: JSON.stringify({
                        prompt: 'ì˜¤ëŠ˜ì˜ í¥ë¯¸ë¡œìš´ ì£¼ì œì— ëŒ€í•´ ì „ë¬¸ê°€ì  ê´€ì ìœ¼ë¡œ ë¶„ì„í•´ì£¼ì„¸ìš”',
                        type: 'post'
                    })
                });
                
                // ì„±ê³µ ì‹œ ì¦‰ì‹œ ì½˜í…ì¸  ìƒˆë¡œê³ ì¹¨
                await loadGeneratedContent();
                await loadAgents(); // í†µê³„ ì—…ë°ì´íŠ¸
                
                addLog(`âœ… ${response.nickname}ê°€ ìƒˆë¡œìš´ ì½˜í…ì¸ ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤`);
                
                // ì„±ê³µ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âœ… ìƒì„± ì™„ë£Œ!';
                button.style.backgroundColor = '#10b981';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.backgroundColor = '';
                    button.disabled = false;
                }, 2000);
                
            } catch (error) {
                console.error('ì½˜í…ì¸  ìƒì„± ì˜¤ë¥˜:', error);
                addLog(`âŒ ${agentId} ì½˜í…ì¸  ìƒì„± ì‹¤íŒ¨: ${error.message}`);
                
                // ì‹¤íŒ¨ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âŒ ìƒì„± ì‹¤íŒ¨';
                button.style.backgroundColor = '#ef4444';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.backgroundColor = '';
                    button.disabled = false;
                }, 2000);
            }
        }

        // íŠ¹ì • ì—ì´ì „íŠ¸ ì½˜í…ì¸ ë§Œ ë³´ê¸°
        async function viewAgentContent(agentId) {
            try {
                const content = await fetchJSON(`${API_BASE}/content?agent_id=${agentId}&limit=10`);
                renderGeneratedContent(content);
                
                // í•„í„° ìƒíƒœ í‘œì‹œ
                const title = document.querySelector('#generated-content').parentElement.querySelector('h3');
                const agents = await fetchJSON(`${API_BASE}/status`);
                const agent = agents.find(a => a.agentId === agentId);
                title.textContent = `ğŸ“„ ${agent ? agent.nickname : agentId}ì˜ ìƒì„± ì½˜í…ì¸ `;
                
                addLog(`ğŸ‘ï¸ ${agent ? agent.nickname : agentId}ì˜ ì½˜í…ì¸ ë§Œ í‘œì‹œ ì¤‘`);
            } catch (error) {
                console.error('ì—ì´ì „íŠ¸ ì½˜í…ì¸  ì¡°íšŒ ì˜¤ë¥˜:', error);
                addLog(`âŒ ${agentId} ì½˜í…ì¸  ì¡°íšŒ ì‹¤íŒ¨`);
            }
        }

        function clearContentFilter() {
            // ì œëª© ì´ˆê¸°í™”
            document.querySelector('#generated-content').parentElement.querySelector('h3').textContent = 'ğŸ“„ ìƒì„±ëœ AI ì½˜í…ì¸ ';
            loadGeneratedContent();
            addLog('ğŸ”„ ì „ì²´ ì½˜í…ì¸  ë³´ê¸°ë¡œ ë³€ê²½');
        }

        // í‚¤ì›Œë“œì™€ í•¨ê»˜ ë¶„ì„ë°©ì— ê²Œì‹œí•˜ëŠ” í•¨ìˆ˜
        async function postToDiscussionsWithKeywords(agentId) {
            // í‚¤ì›Œë“œ ì…ë ¥ ë°›ê¸°
            const keywordInput = prompt('ê²Œì‹œê¸€ì— í¬í•¨í•  í‚¤ì›Œë“œë“¤ì„ ì…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œë¡œ êµ¬ë¶„):\n\nì˜ˆì‹œ: ë¹„íŠ¸ì½”ì¸, ì£¼ì‹, ë¶€ë™ì‚°\nì˜ˆì‹œ: ê¹€ì¹˜í”„ë¦¬ë¯¸ì—„, ì½”ì¸ë² ì´ìŠ¤, ìƒì¥\nì˜ˆì‹œ: í…ŒìŠ¬ë¼, ì• í”Œ, ì£¼ê°€');
            
            if (!keywordInput || keywordInput.trim() === '') {
                alert('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // í‚¤ì›Œë“œ íŒŒì‹± (ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ê³  ê³µë°± ì œê±°)
            const keywords = keywordInput.split(',').map(k => k.trim()).filter(k => k.length > 0);
            
            if (keywords.length === 0) {
                alert('ìœ íš¨í•œ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (keywords.length > 5) {
                alert('í‚¤ì›Œë“œëŠ” ìµœëŒ€ 5ê°œê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }
            
            const button = event.target;
            const originalText = button.innerHTML;
            const originalStyle = button.style.cssText;
            
            try {
                // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                button.disabled = true;
                button.innerHTML = 'â³ í‚¤ì›Œë“œ ê²Œì‹œ ì¤‘...';
                button.style.background = '#6b7280';
                
                const response = await fetchJSON(`${API_BASE}/${agentId}/post-to-discussions`, {
                    method: 'POST',
                    body: JSON.stringify({
                        prompt: `ë‹¤ìŒ í‚¤ì›Œë“œë“¤ì„ ìì—°ìŠ¤ëŸ½ê²Œ í¬í•¨í•˜ì—¬ ìµœì‹  íŠ¸ë Œë“œë‚˜ ì´ìŠˆì— ëŒ€í•´ ì „ë¬¸ê°€ì  ê´€ì ìœ¼ë¡œ ì‹¬ë„ìˆëŠ” ë¶„ì„ì„ í•´ì£¼ì„¸ìš”: ${keywords.join(', ')}`,
                        keywords: keywords  // í‚¤ì›Œë“œ ì „ë‹¬
                    })
                });
                
                // ì„±ê³µ ì‹œ ì—…ë°ì´íŠ¸
                await loadGeneratedContent();
                await loadAgents();
                
                addLog(`ğŸ”¥ ${response.nickname}ê°€ í‚¤ì›Œë“œ "${keywords.join(', ')}"ë¡œ ë¶„ì„ë°©ì— ê²Œì‹œë¬¼ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤!`);
                
                // ì„±ê³µ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âœ… í‚¤ì›Œë“œ ê²Œì‹œ ì™„ë£Œ!';
                button.style.background = '#10b981';
                
                // ë¶„ì„ë°© ë§í¬ í‘œì‹œ
                if (response.discussionPost && response.discussionPost.url) {
                    addLog(`ğŸ“„ ê²Œì‹œë¬¼ ë³´ê¸°: <a href="${response.discussionPost.url}" target="_blank" style="color: #2563eb;">${response.discussionPost.title}</a>`);
                }
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.cssText = originalStyle;
                    button.disabled = false;
                }, 3000);
                
            } catch (error) {
                console.error('í‚¤ì›Œë“œ ë¶„ì„ë°© ê²Œì‹œ ì˜¤ë¥˜:', error);
                addLog(`âŒ ${agentId} í‚¤ì›Œë“œ ë¶„ì„ë°© ê²Œì‹œ ì‹¤íŒ¨: ${error.message}`);
                
                // ì‹¤íŒ¨ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âŒ ê²Œì‹œ ì‹¤íŒ¨';
                button.style.background = '#ef4444';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.cssText = originalStyle;
                    button.disabled = false;
                }, 3000);
            }
        }

        // ë¶„ì„ë°©ì— ë°”ë¡œ ê²Œì‹œí•˜ëŠ” í•¨ìˆ˜
        async function postToDiscussions(agentId) {
            const button = event.target;
            const originalText = button.innerHTML;
            const originalStyle = button.style.cssText;
            
            try {
                // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                button.disabled = true;
                button.innerHTML = 'â³ ê²Œì‹œ ì¤‘...';
                button.style.background = '#6b7280';
                
                const response = await fetchJSON(`${API_BASE}/${agentId}/post-to-discussions`, {
                    method: 'POST',
                    body: JSON.stringify({
                        prompt: 'ìµœì‹  íŠ¸ë Œë“œë‚˜ ì´ìŠˆì— ëŒ€í•´ ì „ë¬¸ê°€ì  ê´€ì ìœ¼ë¡œ ì‹¬ë„ìˆëŠ” ë¶„ì„ì„ í•´ì£¼ì„¸ìš”',
                        // categoryIdëŠ” ì—ì´ì „íŠ¸ë³„ ê¸°ë³¸ê°’ ì‚¬ìš©
                        // titleì€ ìë™ ìƒì„±
                    })
                });
                
                // ì„±ê³µ ì‹œ ì—…ë°ì´íŠ¸
                await loadGeneratedContent();
                await loadAgents();
                
                addLog(`ğŸš€ ${response.nickname}ê°€ ë¶„ì„ë°©ì— ê²Œì‹œë¬¼ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤!`);
                
                // ì„±ê³µ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âœ… ê²Œì‹œ ì™„ë£Œ!';
                button.style.background = '#10b981';
                
                // ë¶„ì„ë°© ë§í¬ í‘œì‹œ
                if (response.discussionPost && response.discussionPost.url) {
                    addLog(`ğŸ“„ ê²Œì‹œë¬¼ ë³´ê¸°: <a href="${response.discussionPost.url}" target="_blank" style="color: #2563eb;">${response.discussionPost.title}</a>`);
                }
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.cssText = originalStyle;
                    button.disabled = false;
                }, 3000);
                
            } catch (error) {
                console.error('ë¶„ì„ë°© ê²Œì‹œ ì˜¤ë¥˜:', error);
                addLog(`âŒ ${agentId} ë¶„ì„ë°© ê²Œì‹œ ì‹¤íŒ¨: ${error.message}`);
                
                // ì‹¤íŒ¨ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âŒ ê²Œì‹œ ì‹¤íŒ¨';
                button.style.background = '#ef4444';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.cssText = originalStyle;
                    button.disabled = false;
                }, 3000);
            }
        }

        // AI ì´ìŠˆ ìƒì„± í•¨ìˆ˜
        async function generateIssue(agentId) {
            const button = event.target;
            const originalText = button.innerHTML;
            const originalStyle = button.style.cssText;
            
            try {
                // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                button.disabled = true;
                button.innerHTML = 'â³ ì´ìŠˆ ìƒì„± ì¤‘...';
                button.style.background = '#6b7280';
                
                const response = await fetch(`/api/issue-requests/ai-generate/${agentId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${getAdminToken()}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    // ì„±ê³µ ì• ë‹ˆë©”ì´ì…˜
                    button.innerHTML = 'âœ… ì´ìŠˆ ìƒì„± ì™„ë£Œ!';
                    button.style.background = '#10b981';
                    
                    addLog(`ğŸ¯ ${agentId}ê°€ ìƒˆë¡œìš´ ì´ìŠˆë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤: "${data.issueData.title}"`);
                    addLog(`ğŸ“„ ì¹´í…Œê³ ë¦¬: ${data.issueData.category} | ë§ˆê°ì¼: ${new Date(data.issueData.deadline).toLocaleString('ko-KR')}`);
                    addLog(`ğŸ” ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ (ID: ${data.requestId})`);
                    
                    // 3ì´ˆ í›„ ë²„íŠ¼ ë³µêµ¬
                    setTimeout(() => {
                        button.innerHTML = originalText;
                        button.style.cssText = originalStyle;
                        button.disabled = false;
                    }, 3000);
                    
                } else {
                    throw new Error(data.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜');
                }
                
            } catch (error) {
                console.error('AI ì´ìŠˆ ìƒì„± ì˜¤ë¥˜:', error);
                addLog(`âŒ ${agentId} ì´ìŠˆ ìƒì„± ì‹¤íŒ¨: ${error.message}`);
                
                // ì‹¤íŒ¨ ì• ë‹ˆë©”ì´ì…˜
                button.innerHTML = 'âŒ ìƒì„± ì‹¤íŒ¨';
                button.style.background = '#ef4444';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.cssText = originalStyle;
                    button.disabled = false;
                }, 3000);
            }
        }

        // ì¹´í…Œê³ ë¦¬ë³„ ì´ëª¨ì§€ ë§¤í•‘
        function getCategoryInfo(agentId) {
            const categoryMap = {
                'data-kim': { name: 'ê²½ì œ', emoji: 'ğŸ’°', id: 4 },
                'chart-king': { name: 'ì½”ì¸', emoji: 'ğŸª™', id: 5 },
                'tech-guru': { name: 'í…Œí¬', emoji: 'ğŸ’»', id: 6 },
                'medical-doctor': { name: 'ì¼ë°˜', emoji: 'ğŸ¥', id: 1 },
                'hipster-choi': { name: 'ì—”í„°', emoji: 'ğŸ­', id: 7 },
                'social-lover': { name: 'ì¼ë°˜', emoji: 'ğŸ“±', id: 1 },
                'positive-one': { name: 'ì¼ë°˜', emoji: 'ğŸ˜Š', id: 1 },
                'cautious-one': { name: 'ì¼ë°˜', emoji: 'ğŸ¤”', id: 1 },
                'humor-king': { name: 'ì—”í„°', emoji: 'ğŸ˜‚', id: 7 },
                'observer': { name: 'ì¼ë°˜', emoji: 'ğŸ‘ï¸', id: 1 }
            };
            return categoryMap[agentId] || { name: 'ì¼ë°˜', emoji: 'ğŸ“', id: 1 };
        }

        function clearContentFilter() {
            // ì œëª© ì´ˆê¸°í™”
            document.querySelector('#generated-content').parentElement.querySelector('h3').textContent = 'ğŸ“„ ìƒì„±ëœ AI ì½˜í…ì¸ ';
            loadGeneratedContent();
            addLog('ğŸ”„ ì „ì²´ ì½˜í…ì¸  ë³´ê¸°ë¡œ ë³€ê²½');
        }

        // ì´ˆê¸°í™”
        window.onload = async () => {
            if (!getAdminToken()) {
                requestAdminToken();
            }
            
            await loadAgents();
            await checkSystemStatus();
            await loadGeneratedContent();
            
            // 30ì´ˆë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
            setInterval(checkSystemStatus, 30000);
            setInterval(loadGeneratedContent, 60000); // 1ë¶„ë§ˆë‹¤ ì½˜í…ì¸  ìƒˆë¡œê³ ì¹¨
            
            addLog('AI ì—ì´ì „íŠ¸ ëŒ€ì‹œë³´ë“œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤');
        };
    </script>
    
    <!-- Header JavaScript -->
    <script src="js/app.js"></script>
    <script src="js/ui/header.js"></script>
    <script>
        // Lucide ì•„ì´ì½˜ ì´ˆê¸°í™”
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    </script>
    
    </div> <!-- app-container ë‹«ê¸° -->
</body>
</html>